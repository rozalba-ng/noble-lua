-- Таблица с сохранёнными ГОшками
local savedGob = {}

--[[	ДЕЙСТВИЯ ПРИ ПРОГРУЗКЕ ГОШКИ	]]--
local function LoadSavedGOB(event, gameobject)
	local entry, guid = gameobject:GetEntry(), gameobject:GetDBTableGUIDLow()
	if savedGob[entry] and savedGob[entry][guid] then
		gameobject:SetScale( savedGob[entry][guid].size )
		--[[--РАСКОМЕНТИТЬ ЕСЛИ ГОШКИ БУДУТ НЕ ВСЕГДА ПРОГРУЖАТЬСЯ
		local phase = gameobject:GetPhaseMask()
		if phase ~= 4096 then gameobject:SetPhaseMask(4096)
		else gameobject:SetPhaseMask(2048) end
		gameobject:SetPhaseMask(phase)
		--]]--
	end
end

--[[	ЧИСТКА УДАЛЁННЫХ ГОШЕК	]]--
local function ForgetSavedGOB(event, gameobject)
	local entry, guid = gameobject:GetEntry(), gameobject:GetDBTableGUIDLow()
	if savedGob[entry] and savedGob[entry][guid] then
		savedGob[entry][guid] = nil
		WorldDBQuery("DELETE FROM saved_gob WHERE guid = "..guid)
	end
end
RegisterServerEvent( 32, ForgetSavedGOB )

--[[	ЗАГРУЗКА ГОШЕК	]]--

-- Заполнение этой таблицы из БД при старте элуны
local savedGobQ = WorldDBQuery("SELECT entry,guid,size FROM saved_gob")
if savedGobQ then
	for i = 1, savedGobQ:GetRowCount() do
		local entry = savedGobQ:GetInt32(0)
		local guid = savedGobQ:GetInt32(1)
		if not savedGob[entry] then
			savedGob[entry] = {}
			RegisterGameObjectEvent( entry, 12, LoadSavedGOB )
		end
		savedGob[entry][guid] = {
			size = savedGobQ:GetInt8(2),
		}
		savedGobQ:NextRow()
	end
end

--[[	СОХРАНЕНИЕ ГОШЕК	]]--
local function GameMasterSavesObject(event, player, command)
	if player:GetGMRank() > 0 or IsThirdDM(player) then
		if command == "gobsave" or command == "savegob" then
			player:SendBroadcastMessage("|cff00FF7F.savegob [GUID]|r или |cff00FF7F.gobsave [GUID]|r для сохранения ГОшки.")
		elseif string.find(command, " ") then
			local arguments = string.split(command, " ")
			if ( arguments[1] == "gobsave" or arguments[1] == "savegob" ) and arguments[2] then
				if tonumber(arguments[2]) then
					local guid, entry = tonumber(arguments[2])
					local entryQ = WorldDBQuery("SELECT id FROM gameobject WHERE guid = "..guid)
					if entryQ then
						entry = entryQ:GetUInt32(0)
					else
						player:SendBroadcastMessage("|cffFF4500[!!]|r Вы ввели неверный GUID.")
						return
					end
					local nearGameObjects = player:GetGameObjectsInRange(50, entry)
					if #nearGameObjects > 0 then
						for i = 1,#nearGameObjects do
							if nearGameObjects[i]:GetDBTableGUIDLow() == guid then
								if not savedGob[entry] then
									savedGob[entry] = {}
									RegisterGameObjectEvent( entry, 13, ForgetSavedGOB )
									RegisterGameObjectEvent( entry, 12, LoadSavedGOB )
								end
								if savedGob[entry][guid] then
									savedGob[entry][guid].size = nearGameObjects[i]:GetScale()
									WorldDBQuery('UPDATE saved_gob SET size = '..( savedGob[entry][guid].size )..', gm_account_id = '..( player:GetAccountId() )..' WHERE guid = '..guid)
									player:SendBroadcastMessage("Сохранённая ГОшка обновлена.")
								else
									savedGob[entry][guid] = {
										size = nearGameObjects[i]:GetScale()
									}
									WorldDBQuery('INSERT INTO saved_gob (entry, guid, size, gm_account_id) VALUES ('..entry..','..guid..','..( savedGob[entry][guid].size )..','..( player:GetAccountId() )..')')
									player:SendBroadcastMessage("ГОшка сохранена.")
								end
								return
							end
						end
					end
					player:SendBroadcastMessage("|cffFF4500[!!]|r Не удалось обнаружить ГОшку. Возможно вы находитесь слишком далеко от неё.")
				else player:SendBroadcastMessage("|cff00FF7F.savegob [GUID]|r или |cff00FF7F.gobsave [GUID]|r для сохранения ГОшки.") end
			end
		end
	end
end
RegisterPlayerEvent( 42, GameMasterSavesObject )

--[[
╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═
╩═╦═╩═╦═╩═╦▄████▄═╦▄████▄═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦
╦═╩═╦═╩═╦═╩██▀▀██═╩██▀▀██═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦
╩═╦═╩═╦═╩═╦██──██═╦██──██═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═
╦═╩═╦═╩═╦═╩██──██═╩██──██═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═
╩═╦═╩═╦═╩═╦██──██═╦██──██═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦
╦═╩═╦═╩═╦═╩██──██═╩██──██═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═
╩═╦═╩═╦═╩═▄██──██████──██▄╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═
╦═╩═╦═╩═▄███▀──────────▀███▄╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦╔════════════════════════════════════════╗═╦═╩═╦═╩═╦
╩═╦═╩═╦██▀────────────────▀██═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩║╔═╗░╔═╦═╦╗░░░░░░╔══╗░░░░░░░░░░░░░░░░░╔═╗║═╩═╦═╩═╦═╩═
╦═╩═╦═███─────██─────██────███╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦║║╬╠╦╣═╣═╬╬═╗╔═╦╗╚╗╗╠═╦═╦═╦═╦╗╔═╦═╦═╦╦╣═╣║═╦═╩═╦═╩═╦
╩═╦═╩═██──────██─────██─────██╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩║║╗╣║╠═╠═║║╬╚╣║║║╔╩╝║╩╬╗║╔╣╩╣╚╣╬║╬║╩╣╔╬═║║═╩═╦═╩═╦═╩
╦═╩═╦═██─██▄██▄─────────────██╩▄▄▄╩═█▄╩═▄▄▄═╦═╩═╦═╩═╦═╩═╦═╩═╦║╚╩╩═╩═╩═╩╩══╩╩═╝╚══╩═╝╚═╝╚═╩═╩═╣╔╩═╩╝╚═╝║═╦═╩═╦═╩═╦
╩═╦═╩═██─██████─────────────██╦═▀▀▀▄██▄▀▀▀╦═╩═╦═╩═╦═╩═╦═╩═╦═╩╚═══════════════════════════════╚╝═══════╝═╩═╦═╩═╦═
╦═╩═╦▄███████▀───▒▒▒────────██╩═╦═█▒▒▒▒█╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦
╩═╦▄█████▀─────────────────▄██╦═╩███████╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩
╦═▐█████▄▄───────────────▄▄██═╩═▄███▒▒▒█╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═
╩═▐████▀▀█████▄▄▄▄▄▄▄█████▀▀╩═╦▄████▒▒██╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩
╦═▐█████▄▄▄██▀▀▀▀▀▀▀▀▀██▄▄▄▄████████▒▒██╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═
╩═╦▀████████████▄▄▄██████████████▀╦█▒▒▒█╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩
╦═╩═╦▀████████████████████████▀═╦═╩█▒▒▒█╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦═╩═╦
▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓
⣿⣿⣿⣿⣻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣵⣿⣿⣿⠿⡟⣛⣧⣿⣯⣿⣝⡻⢿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⠋⠁⣴⣶⣿⣿⣿⣿⣿⣿⣿⣦⣍⢿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⢷⠄⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣏⢼⣿⣿⣿⣿
⢹⣿⣿⢻⠎⠔⣛⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡏⣿⣿⣿⣿
⢸⣿⣿⠇⡶⠄⣿⣿⠿⠟⡛⠛⠻⣿⡿⠿⠿⣿⣗⢣⣿⣿⣿⣿
⠐⣿⣿⡿⣷⣾⣿⣿⣿⣾⣶⣶⣶⣿⣁⣔⣤⣀⣼⢲⣿⣿⣿⣿
⠄⣿⣿⣿⣿⣾⣟⣿⣿⣿⣿⣿⣿⣿⡿⣿⣿⣿⢟⣾⣿⣿⣿⣿
⠄⣟⣿⣿⣿⡷⣿⣿⣿⣿⣿⣮⣽⠛⢻⣽⣿⡇⣾⣿⣿⣿⣿⣿
⠄⢻⣿⣿⣿⡷⠻⢻⡻⣯⣝⢿⣟⣛⣛⣛⠝⢻⣿⣿⣿⣿⣿⣿
⠄⠸⣿⣿⡟⣹⣦⠄⠋⠻⢿⣶⣶⣶⡾⠃⡂⢾⣿⣿⣿⣿⣿⣿
⠄⠄⠟⠋⠄⢻⣿⣧⣲⡀⡀⠄⠉⠱⣠⣾⡇⠄⠉⠛⢿⣿⣿⣿
⠄⠄⠄⠄⠄⠈⣿⣿⣿⣷⣿⣿⢾⣾⣿⣿⣇⠄⠄⠄⠄⠄⠉⠉
⠄⠄⠄⠄⠄⠄⠸⣿⣿⠟⠃⠄⠄⢈⣻⣿⣿⠄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⢿⣿⣾⣷⡄⠄⢾⣿⣿⣿⡄⠄⠄⠄⠄⠄⠄
⠄⠄⠄⠄⠄⠄⠄⠸⣿⣿⣿⠃⠄⠈⢿⣿⣿⠄⠄⠄⠄⠄⠄⠄
,,,,,,**/((#%&&&@@@&%%#(/**,,,...........................................................,.,,,,,,,.,.....,.............,,,,,,,,,,,,,,,****//(((((///**************,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,**/((#%&&@@@@&&%#((/**,,,..................................................,*************,,****////*,..,,,.,,....,,,,,,,,,,,,,,,***///((((((////*************,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,***/(##%&&@@@@@&%%#(//**,,,............................................,**/*//*****,*,,,,,,,,..,,,,**//((/,..,,,,,,,,,,,,,,,,,,,,***///((((((//////***********,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,**//(##%&&@@@@@&&%%#(//**,,,,.......................................**//*//*//***,,.,.,,,.,,,.....,******/((#*,.,,,,,,,,,,,,,,,,,***//((((((((///////////******,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,**//(#%%&&@@@@@@@&%%#(//**,,,,,..................................//*////////**,...........  ........,,***,,,*((*,,,,,,,,,,,,,,,,***///(((((((((///////////******,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,**//(#%%&&@@@@@@@@&&%#((//**,,,,,..............................///((///***,,........      . ........,,,,,,,,,,,,***,,,,,,,,,,,,,**///(((((#(((((////////////*****,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,***/((#%&&&@@@@@@@@&&&%%#((/****,,,,..........................,*///(///,*,,,.,,,,,,,..................,,,,,,,,,,.,,*/**,,,,,,,,,***///(((((((((((((((/(((/////****,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,***/((#%&&&@@@@@@@@&&&&&%##(//***,,,,,.......................,**/(//(,**,,,,,,,,,,,,,,,...............,,,,,,,,,.,,,,,/*/,,,,,,,,***///(((((((((((((((((((((/////****,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,**//(##%&&&@@@@@@@&&&&&&&&%##(///**,,,,.....................,**((((****.,,,,,,,,,,,,,,,...........,...,,,,,,.,,,,,,,,*((/,,,,,,***///(((((((((((((((///((((((////****,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,**//(##%&&&@@@@@@@&&&&&&&&&%%#((//***,,,,...................**((#//**,,*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,**///,,,,,***///(((((((((((////////(((((/////***,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,**//(#%%&&&@@@@@@@&&&&&&&&&&&%%#((//**,,,,..................,/((//***,,,,*,*******,,*,**,,,,,,,,.,,,**,,,*****,***********,,,,,***//(((####(((((//////////////////****,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,**/((#%&&&@@@@@@@@&&&&&&&&&&&&%%##(//***,,,,...............,*/(((***,,*,,*********,,,,,,,,,,,,,,,,,,,,,,,,,,,,,****,****,*/,,,,***//((#####(((((//////////////////****,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,***/((#%&&&@@@@@@@@@&&&&&&&&&&&&&%%#((//**,,,,..............*//(((***************,,,,,,,,,,,,,,..,,,,,,,,..,,,,,,**********/,,,,,**//(((#####((((//////***/////////******,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,***/((#%&&&@@@@@@@@@@&&&&&&&&&&&&&%%#((//**,,,,............./#(/#(///*///***********,,,,,,,,,,,,..,,..,,...,,,,,,********///*,,,,**///(((####((((//////*/*/////////******,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,**//((#%&&&@@@@@@@@@&&&&&&&&&&&&&&&%%##(//**,,,,............/#((#((////******,,,****,,,,,*,*,****,,,,,*,,,,,,*************//*,,,****//(((((#(((((//////**////////////*****,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,**//((#%%&&&@@@@@@@@&&&&&&&&&&&&&&&&&%##(//**,,,,......./#/*,*#(((#(///******/***********/***(/*///*/*//****//////********(/,,,,****////((((((((((((/////////////////*****,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,**//((#%%&&&&&@@@@@@&&&&&&&&&&&&&&&&&&%##(//**,,,,......(###(/*/((((//********///////(((###%%%#####(////////(#(((//*////**(/*,,,***/////(((((((((((((/////////////////*****,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,**//((##%%&&&&&&@@@@@&&&&&&&&&&&&&&&&&&%#((//**,,,....../##//((((((((/*/***////(((((((((#((#%%%###%(/////(%&&&&&%%##(((((*(/,,,****////((((((######(((((((/((///////////****,,,,,,,,,,,,,,,,,,,,,,,,,
,,***//((##%%%&&&&&&@@@@&&&&&&&&&&&&&&&&&&%%#((/**,,,,.....,(#(/(#((((((/***/******(#####(/%&%%(##(####(/*/(&####&@@&%%##(#(//*,,,****///((((((###########(((((((((((((((////***,,,,,,,,,,,,,,,,,,,,,,,,
,,***//((##%%%%%&&&&&@@@@&&&&&&&&&&&&&&&&&&%%#(//**,,,,.....*(//(((**/(///******,,,****/***,**///(((((((*,,*%#((#(((///(((//*,,,,****///((((#############################(((//****,,,,,,,,,,,,,,,,,,,,,,
,,***//((##%%%%%&&&&&&&@@@&&&&&&&&&&&&&&&&&&%##(//**,,,,.....////*/**///(/////****,,,,,*,****/////**///**,,*/(*///*/////******,,,***///(((#####(((((((######%%%%%%%%%%%%%###((//***,,,,,,,,,,,,,,,,,,,,,
,***///((###%%%%%&&&&&&&&@&&&&&&&&&&&&&&&&&&%%#((/**,,,,......*#*,*(//////((////********,***************,,,,*//**///*********,,,****///((#####(((((((((((##%%%%&&&&&&&&&&%%%#((//***,,,,,,,,,,,,,,,,,***
,***///(###%%%%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&%%#(//**,,,,......**/((((/////(((/////////***,,*,**********,,,,**/***/***///////,,,****//(((####((((/////(((##%%%&&&&&&&&&&&&&%##((//**,,,,,,,,,,,,,,,*****
,***//((####%%%%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&&%##(//**,,,,,,,,..*****(///////(((((/////**********/(*****,,,,,*/(//**///////((,,****///(((####(((((((((((##%%%&&&&&&&&&&&&&&%%##(//***,,,,,,,,,,,,,******
***///((####%%%%%%%%&&&&&&&&&&&&&&&&&&&&&&&&&&%%#((/**,,,,,,,,,,,,/(#(//////(/////((////**/**///((/******,,,,***(/////////(((,,****//(((#######(((((####%%%%&&&&&&&&&&&&&&&&%%##(//***,,,,,,,,,,,*******
***//(((###%%%%%%%%%%%%&&&&&&&&&&&&&&&&&&&&&&&&%##(//**,,,,,,,,,,,,,,//////////////////////*//((//#(#%(((/////((((///////(((,,****///((##############%%%%%&&&&&&&&&&&&&&&&&&&%%#((//****,,,,,,,,,*******
***//((####%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&&&&&%%#((//**,,,,,,,,,,,,,*(///////((//////////////*,**//((((%((##%%(///////((((/,,***///(((##########%%%%%%%&&&&&&&&&&&&&&&&&&&&&&%%#((//****,,,,,,,********
***//((###%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&&&%%#(//**,,,,,,,,,,,,,,((////////((////////**********///((#(((((//**/////(((*****////(((########%%%%%%%%&&&&&&&&&&&&&&&&&&@@@&&&%%#((//****,,,,,,********
**///((###%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&&&%##(//**,,,,,,,,,,,,,*(((/////////////////**/((//*****/((/((///////////(((****/////(((##########%%%%%%%&&&&&&&&&&&@@@@@@@@@@@&&%%#((//*****************
**//((###%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&&%%#((/***,,,,,,,,,,,,,/#(((((////////////((#%%%&%%%%%##(((#((#((((((((((((****////(((#############%%%%%%%&&&&&&@@@@@@@@@@@@@@@&&%##((//****************
**//((####%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&&%##(//**,,,,,,,,,,,,,,###(((((//(/(///((((///(((((((((((((((######((((((*****///((((##############%%%%%%%&&&&&@@@@@@@@@@@@@@@&&%%#((//****************
*//(((####%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&&&%#((//**,,,,,,,,,,*. ((####(((((((((((/(///(((((###########(((((((((#/,,****///((((################%%%%%%%&&&&&&&&&&&&&&@&&&&&%%#((//****************
*//((#####%%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&&%##((/***,,,,,,,/&*. *(#(######(((((((((////**//////////////((((((##,,,,****//((((##################%%%%%%%%%%%%%%%%%&&&&&&&&%%##((//****************
///((#####%%%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&&%#((//**,,,,,*&@@ .   ((((#############(((/////////////((/((#####,,,,,,,***//((((####################%%%%%%########%%%%%%%%%%##(((//****************
///((##%#%%%%%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&%%#((/***,,%&@@@& ..    .(((####################(((((((#####%#,@@&&(,,,,***//((((######%%%%%#####%###################%%%%%%%##(((////***************
///((##%#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&&&&&%##(//*%&&@@@@@@. . .     .##((#############%%%#######%####,,,*@@@@&&&****//((((######%%##########%%########################(((/////**************/
///((##%#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&%%%&%%##%&&&&@@@@@@@@#.         ...(((#(#((((#################,,,,,.@@@@@@@@&&&#((((#######%############%%%%%##################(((((/////**************/
*//(((##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&&&&&@@@@@@@@@@@@@*.             ./(((((((#(####%######/,......,&@@@@@@&@@&&&&&&&&%%#################%%%%%%%%%%%%%%%%####((((((///////*************/
*///(((###%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&@@@@@@@@@@@@@@@,....           ..*((########(((#/..........,#@@@@@@@@@@@@&&&&&&&&&&&&&&%%########%%%%%%%%%%%%%%%%###(((((((///////////*****/////
***//(((###%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&@@@@@@@&&@@@@@@@@@@@@@@.....                .,###%%,. ...........,,/%@@@@@@@&&&@@@@@&&&&&@@@@&&&&&&&&&&&%%%%%%%%%%%%%%%#####(((((((((//////////////////
***////(((##%%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&@@@@&&@@@@@@@@@@@@@@@@@@@@@#..                   (%&&&&.         ....,,*/@@@@@@@@@@&&&&&&&&@@@@@@@@@@@@&&&&&&&&&&&&&&&&%%%%%##########((((((((////////////(
*****///(((###%%%%%%%%%%%%%%%&&&&&&&&&&&&&&@&@@@@@@@@&@@@@@@@@@@@@@@@@@@@.                  @@@@&&&&&@@%     .......,*@@@@@@@@@@@@@&&&@@@@@@@@@@@@@@@@@@@@@@&&&&&&&&&&&&&&%%%%%%%%#####(((((((((((((((((
******////(((###%%%%%%&&&&&&&&&&&&&&&&&&&&&&@@@@@@@@@&@@@@@@@@@@@@@@@@@@@@.               @@@@&&&&&&@@@@@%.  ........,@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&&&&&&&@&&&&&&%%%%####(((((((((((#((#
*******///((((#%&&&&&&&&&&&&&&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#             %@@@@@@&%&&&@@@&(((#. .......,%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&(&@ (&&*(,/*(&%%(*@&%#&&&%* (#,##/*#,.*(#,#
]]