local quests = {
    [1] = { -- "Честная работа: Шахта"
        id = 110297,
        questgiver = 12121971,
        gameobject = 530853,
        item = 5103329,
        ore = 5103330,
        players = {},
    },
}

-- OnUse event handler for the game object
quests[1].OnUse = function(event, player, object)
    if event == 118 then
        if player:HasQuest(quests[1].id) and player:HasItem(quests[1].item) then
            player:RemoveItem(quests[1].item, 1)
            player:AddItem(quests[1].ore, 1)
        end
    end
end

-- OnStart event handler for quest acceptance
quests[1].OnQuestStart = function(event, player, creature, quest)
    if quest:GetId() == quests[1].id then
        RegisterGameObjectEvent(quests[1].gameobject, 118, quests[1].OnUse) -- GAMEOBJECT_EVENT_ON_USE
    end
end

-- Register the OnStart event handler for quest acceptance
RegisterCreatureEvent(quests[1].questgiver, 788, quests[1].OnQuestStart) -- CREATURE_EVENT_ON_QUEST_ACCEPT